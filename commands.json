{
    "commands": [
        {
            "command": "sudo raspi-config nonint do_boot_behaviour B2",
            "input": "",
            "interactive": false,
            "description": "disable login screen and GUI" 
        },
        {
            "command": "sudo nmcli dev wifi connect SSID password PASSWORD",
            "input": "",
            "interactive": false,
            "timeout": 60,
            "description": "connect to the wifi"
        },
        {
            "command": "sudo apt update",
            "input": "",
            "interactive": false,
            "timeout": 120,
            "description": ""
        },
        {
            "command": "sudo apt upgrade",
            "input": "Y\n",
            "interactive": false,
            "timeout": 1800,
            "description": ""
        },
        {
            "command": "sudo apt install pulseaudio pulseaudio-module-bluetooth bluez-tools vim",
            "input": "Y\n",
            "interactive": false,
            "timeout": 480,
            "description": ""
        },
        {
            "command": "bash ./setup/scripts/determine_boot_config.sh",
            "input": "",
            "interactive": false,
            "description": "running the script that determines the right config file that needs to be modified"
        },
        {
            "command": "sudo sed -i s/^#\\(dtparam=i2s=on\\)/\\1/ /boot/config.txt",
            "input": "",
            "interactive": false,
            "description": "uncomment 'dtparam=i2s=on' in '/boot/config.txt'"
        },
        {
            "command": "sudo sed -i s/^\\(dtparam=audio=on\\)/#\\1/ /boot/config.txt",
            "input": "",
            "interactive": false,
            "description": "comment the line 'dtparam=audio=on' in '/boot/config.txt'"
        },
        {
            "command": "sudo sed -i $a\\dtoverlay=iqaudio-dacplus,unmute_amp /boot/config.txt",
            "input": "",
            "interactive": false,
            "description": "add the line 'dtoverlay=iqaudio-dacplus,unmute_amp' in '/boot/config.txt'"
        },
        {
            "command": "sudo sed -i s/^\\(dtoverlay=vc4-kms-v3d\\)\\(.*\\)/\\1,noaudio\\2/ /boot/config.txt",
            "input": "",
            "interactive": false,
            "description": "append ',noaudio' to 'dtoverlay=vc4-kms-v3d' in '/boot/config.txt'"
        }
    ],
    "environment": {
        "PATH": "/usr/local/bin:/usr/bin:/bin"
    }
}
